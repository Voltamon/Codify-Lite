version: '3'

tasks:
  setup:
    desc: Setup the app
    dir: ../server
    cmds:
      - cd ../app && bun install
      - go mod tidy

  dev:
    desc: Run the app in dev mode
    dir: ../server
    cmds:
      - cd ../app && bun install
      - go mod tidy
      - wails dev

  build:
    desc: Build the production application
    dir: ../server
    cmds:
      - wails build

  sqlc:
    desc: Generate SQLc code
    dir: ../database
    cmds:
      - sqlc generate

  test:
    desc: Run backend tests
    dir: ../server
    cmds:
      - go test ./...
